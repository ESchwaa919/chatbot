<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat Widget Customization Examples</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f0f2f5;
        }
        
        .example {
            background: white;
            margin: 20px 0;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .code {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 6px;
            font-family: monospace;
            margin: 10px 0;
            overflow-x: auto;
        }
        
        .demo-buttons {
            margin: 15px 0;
        }
        
        .demo-buttons button {
            background: #007bff;
            color: white;
            border: none;
            padding: 8px 16px;
            margin: 5px;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .demo-buttons button:hover {
            background: #0056b3;
        }
    </style>
</head>
<body>
    <h1>ðŸŽ¨ Chat Widget Customization Guide</h1>
    
    <div class="example">
        <h2>1. Change Colors & Theme</h2>
        <p>Customize the widget's appearance by modifying CSS variables:</p>
        
        <div class="code" id="colorCssExample">
/* Custom Theme Example */
.chat-button {
    background: #007bff; /* Button color */
    border: 2px solid transparent;
}

.chat-button:hover {
    background: #0056b3;
    border-color: #004085;
}

.chat-window {
    background: #ffffff; /* Window background */
    border: 1px solid #dee2e6; /* Window border */
    border-radius: 12px;
}

.chat-header {
    background: #f8f9fa;
    border-bottom: 1px solid #e0e0e0;
}

.message.user {
    background: #007bff;
    border-radius: 18px 4px 18px 18px; /* Custom alignment */
}

.message.bot {
    background: #f1f1f1;
    color: #333;
    border: 1px solid #e0e0e0;
    border-radius: 4px 18px 18px 18px; /* Custom alignment */
}

.send-btn {
    background: #007bff;
    border: 2px solid #007bff;
}
        </div>
        
        <div class="demo-buttons">
            <button onclick="applyTheme('default')">Default Theme</button>
            <button onclick="applyTheme('green')">Green Theme</button>
            <button onclick="applyTheme('dark')">Dark Theme</button>
            <button onclick="applyTheme('purple')">Purple Theme</button>
            <button onclick="applyTheme('rounded')">Rounded Style</button>
            <button onclick="applyTheme('minimal')">Minimal Style</button>
            <button onclick="applyTheme('transparent')">Transparent Mode</button>
        </div>
    </div>
    
    <div class="example">
        <h2>2. Message Alignment & Borders</h2>
        <p>Customize message bubble alignment and border styles:</p>
        
        <div class="code" id="alignmentCssExample">
/* Message Alignment Examples */
.message.user {
    align-self: flex-end; /* Right aligned */
    border-radius: 18px 4px 18px 18px; /* Pointed right */
    margin-left: 20%; /* Max width control */
}

.message.bot {
    align-self: flex-start; /* Left aligned */
    border-radius: 4px 18px 18px 18px; /* Pointed left */
    margin-right: 20%; /* Max width control */
}

/* Alternative: Centered messages */
.message {
    align-self: center;
    border-radius: 18px; /* Fully rounded */
    max-width: 60%;
}
        </div>
        
        <div class="demo-buttons">
            <button onclick="changeAlignment('standard')">Standard (L/R)</button>
            <button onclick="changeAlignment('pointed')">Pointed Bubbles</button>
            <button onclick="changeAlignment('centered')">All Centered</button>
            <button onclick="changeAlignment('square')">Square Bubbles</button>
        </div>
    </div>
    
    <div class="example">
        <h2>3. Border Styles & Effects</h2>
        <p>Add borders, shadows, and visual effects:</p>
        
        <div class="code" id="borderCssExample">
/* Border & Effect Examples */
.chat-window {
    border: 2px solid #007bff;
    box-shadow: 0 8px 32px rgba(0,123,255,0.3);
}

.chat-button {
    border: 3px solid #ffffff;
    box-shadow: 0 4px 20px rgba(0,123,255,0.4);
}

.message.user {
    border: 2px solid #0056b3;
    box-shadow: 0 2px 8px rgba(0,123,255,0.2);
}

.message.bot {
    border: 2px solid #dee2e6;
    box-shadow: 0 1px 4px rgba(0,0,0,0.1);
}

.chat-header {
    border-bottom: 3px solid #007bff;
}
        </div>
        
        <div class="demo-buttons">
            <button onclick="changeBorderStyle('none')">No Borders</button>
            <button onclick="changeBorderStyle('subtle')">Subtle Borders</button>
            <button onclick="changeBorderStyle('bold')">Bold Borders</button>
            <button onclick="changeBorderStyle('shadow')">Shadow Effects</button>
            <button onclick="changeBorderStyle('neon')">Neon Glow</button>
        </div>
    </div>
    
    <div class="example">
        <h2>4. Change Position</h2>
        <p>Move the widget to different corners:</p>
        
        <div class="code">
/* Position Examples */
.chat-widget {
    /* Bottom Right (default) */
    bottom: 20px;
    right: 20px;
    
    /* Bottom Left */
    /* bottom: 20px; left: 20px; */
    
    /* Top Right */
    /* top: 20px; right: 20px; */
    
    /* Top Left */
    /* top: 20px; left: 20px; */
}
        </div>
        
        <div class="demo-buttons">
            <button onclick="changePosition('bottom-right')">Bottom Right</button>
            <button onclick="changePosition('bottom-left')">Bottom Left</button>
            <button onclick="changePosition('top-right')">Top Right</button>
            <button onclick="changePosition('top-left')">Top Left</button>
        </div>
    </div>
    
    <div class="example">
        <h2>5. Customize Messages & Text</h2>
        <p>Change the widget's text and behavior:</p>
        
        <div class="code" id="textCssExample">
// In the JavaScript section
const config = {
    headerTitle: "Support Chat",
    placeholder: "Type a message...",
    welcomeMessage: "Hello! How can I help you today?",
    mockResponses: [
        "Thanks for reaching out!",
        "I'm here to help with any questions.",
        "Feel free to ask me anything.",
        "Our team will get back to you soon."
    ]
};
        </div>
        
        <div class="demo-buttons">
            <button onclick="updateText('support')">Support Chat</button>
            <button onclick="updateText('sales')">Sales Chat</button>
            <button onclick="updateText('friendly')">Friendly Chat</button>
        </div>
    </div>
    
    <div class="example">
        <h2>6. Resize Widget</h2>
        <p>Adjust widget dimensions:</p>
        
        <div class="code" id="sizeCssExample">
/* Size Examples */
.chat-window {
    width: 350px;  /* Current size */
    height: 500px;
}

.chat-button {
    width: 60px;
    height: 60px;
    font-size: 20px;
}

/* Alternative sizes */
/* Small: width: 300px; height: 400px; */
/* Large: width: 400px; height: 600px; */
        </div>
        
        <div class="demo-buttons">
            <button onclick="resizeWidget('small')">Small</button>
            <button onclick="resizeWidget('medium')">Medium</button>
            <button onclick="resizeWidget('large')">Large</button>
        </div>
    </div>

    <!-- Include the simple widget for demonstration -->
    <style id="dynamicStyles">
        .chat-widget {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 9999;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            transition: all 0.3s ease;
        }
        
        .chat-button {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: #007bff;
            color: white;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 12px rgba(0,0,0,0.15);
            transition: all 0.3s ease;
            font-size: 20px;
        }
        
        .chat-button:hover {
            background: #0056b3;
            transform: scale(1.05);
        }
        
        .chat-window {
            width: 350px;
            height: 500px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 5px 40px rgba(0,0,0,0.16);
            display: none;
            flex-direction: column;
            overflow: hidden;
            animation: fadeIn 0.3s ease;
        }
        
        .chat-window.open { display: flex; }
        
        .chat-header {
            padding: 16px;
            background: #f8f9fa;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .chat-title {
            margin: 0;
            font-size: 16px;
            font-weight: 600;
        }
        
        .close-btn {
            background: none;
            border: none;
            font-size: 18px;
            cursor: pointer;
            padding: 4px;
        }
        
        .chat-messages {
            flex: 1;
            padding: 16px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .message {
            max-width: 80%;
            padding: 8px 12px;
            border-radius: 18px;
            word-wrap: break-word;
        }
        
        .message.user {
            align-self: flex-end;
            background: #007bff;
            color: white;
        }
        
        .message.bot {
            align-self: flex-start;
            background: #f1f1f1;
            color: #333;
        }
        
        .chat-input {
            padding: 16px;
            border-top: 1px solid #e0e0e0;
            display: flex;
            gap: 8px;
        }
        
        .input-field {
            flex: 1;
            border: 1px solid #e0e0e0;
            border-radius: 20px;
            padding: 8px 16px;
            font-size: 14px;
            outline: none;
        }
        
        .send-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: #007bff;
            color: white;
            border: none;
            cursor: pointer;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.8); }
            to { opacity: 1; transform: scale(1); }
        }
    </style>

    <!-- Demo Widget -->
    <div class="chat-widget">
        <button class="chat-button" id="chatToggle">ðŸ’¬</button>
        
        <div class="chat-window" id="chatWindow">
            <div class="chat-header">
                <h3 class="chat-title" id="chatTitle">Demo Chat</h3>
                <button class="close-btn" id="closeChat">Ã—</button>
            </div>
            
            <div class="chat-messages" id="chatMessages">
                <div class="message bot">
                    ðŸ‘‹ Hi! I'm a fully customizable chat widget. Try the theme buttons above to see me change in real-time!
                </div>
                <div class="message bot">
                    ðŸ’¬ You can also chat with me! Type a message and watch the CSS examples update as you customize my appearance.
                </div>
            </div>
            
            <div class="chat-input">
                <input type="text" class="input-field" id="messageInput" placeholder="Type a message...">
                <button class="send-btn" id="sendBtn">âž¤</button>
            </div>
        </div>
    </div>

    <script>
        // Enhanced theme configurations with CSS examples
        const themes = {
            default: {
                buttonBg: '#007bff',
                buttonHover: '#0056b3',
                userBg: '#007bff',
                sendBg: '#007bff',
                windowBg: '#ffffff',
                headerBg: '#f8f9fa',
                botBg: '#f1f1f1',
                textColor: '#333',
                windowBorder: '#dee2e6',
                buttonBorder: 'transparent',
                css: `/* Default Theme */
.chat-button {
    background: #007bff;
    border: 2px solid transparent;
}

.chat-window {
    background: #ffffff;
    border: 1px solid #dee2e6;
}

.message.user {
    background: #007bff;
    border-radius: 18px 4px 18px 18px;
}

.message.bot {
    background: #f1f1f1;
    border: 1px solid #e0e0e0;
    border-radius: 4px 18px 18px 18px;
}`
            },
            green: {
                buttonBg: '#28a745',
                buttonHover: '#218838',
                userBg: '#28a745',
                sendBg: '#28a745',
                windowBg: '#ffffff',
                headerBg: '#d4edda',
                botBg: '#d4edda',
                textColor: '#333',
                windowBorder: '#c3e6cb',
                buttonBorder: '#ffffff',
                css: `/* Green Nature Theme */
.chat-button {
    background: #28a745;
    border: 2px solid #ffffff;
    box-shadow: 0 4px 15px rgba(40,167,69,0.3);
}

.chat-window {
    background: #ffffff;
    border: 2px solid #c3e6cb;
}

.message.user {
    background: #28a745;
    border-radius: 18px 4px 18px 18px;
}

.message.bot {
    background: #d4edda;
    border: 1px solid #c3e6cb;
    border-radius: 4px 18px 18px 18px;
}`
            },
            dark: {
                buttonBg: '#6c757d',
                buttonHover: '#5a6268',
                userBg: '#495057',
                sendBg: '#6c757d',
                windowBg: '#2d3748',
                headerBg: '#1a202c',
                botBg: '#4a5568',
                textColor: '#ffffff',
                windowBorder: '#4a5568',
                buttonBorder: '#ffffff',
                css: `/* Dark Mode Theme */
.chat-button {
    background: #6c757d;
    border: 2px solid #ffffff;
    box-shadow: 0 4px 15px rgba(0,0,0,0.5);
}

.chat-window {
    background: #2d3748;
    color: #ffffff;
    border: 2px solid #4a5568;
}

.message.user {
    background: #495057;
    border-radius: 18px 4px 18px 18px;
}

.message.bot {
    background: #4a5568;
    color: #ffffff;
    border: 1px solid #6c757d;
    border-radius: 4px 18px 18px 18px;
}`
            },
            purple: {
                buttonBg: '#6f42c1',
                buttonHover: '#563d7c',
                userBg: '#6f42c1',
                sendBg: '#6f42c1',
                windowBg: '#ffffff',
                headerBg: '#e2d9f3',
                botBg: '#e2d9f3',
                textColor: '#333',
                windowBorder: '#d1c4e9',
                buttonBorder: '#ffffff',
                css: `/* Purple Elegance Theme */
.chat-button {
    background: #6f42c1;
    border: 2px solid #ffffff;
    box-shadow: 0 4px 15px rgba(111,66,193,0.4);
}

.chat-window {
    background: #ffffff;
    border: 2px solid #d1c4e9;
}

.message.user {
    background: #6f42c1;
    border-radius: 18px 4px 18px 18px;
}

.message.bot {
    background: #e2d9f3;
    border: 1px solid #d1c4e9;
    border-radius: 4px 18px 18px 18px;
}`
            },
            rounded: {
                buttonBg: '#ff6b6b',
                buttonHover: '#ee5a52',
                userBg: '#ff6b6b',
                sendBg: '#ff6b6b',
                windowBg: '#ffffff',
                headerBg: '#fff5f5',
                botBg: '#fff5f5',
                textColor: '#333',
                windowBorder: '#fecaca',
                buttonBorder: '#ffffff',
                css: `/* Rounded Friendly Theme */
.chat-button {
    background: #ff6b6b;
    border: 3px solid #ffffff;
    border-radius: 50%;
}

.chat-window {
    background: #ffffff;
    border: 2px solid #fecaca;
    border-radius: 25px;
}

.message.user {
    background: #ff6b6b;
    border-radius: 25px;
}

.message.bot {
    background: #fff5f5;
    border: 1px solid #fecaca;
    border-radius: 25px;
}`
            },
            minimal: {
                buttonBg: '#000000',
                buttonHover: '#333333',
                userBg: '#000000',
                sendBg: '#000000',
                windowBg: '#ffffff',
                headerBg: '#ffffff',
                botBg: '#f9f9f9',
                textColor: '#333',
                windowBorder: '#e5e5e5',
                buttonBorder: 'none',
                css: `/* Minimal Clean Theme */
.chat-button {
    background: #000000;
    border: none;
    border-radius: 8px;
}

.chat-window {
    background: #ffffff;
    border: 1px solid #e5e5e5;
    border-radius: 8px;
}

.message.user {
    background: #000000;
    border-radius: 8px;
}

.message.bot {
    background: #f9f9f9;
    border: 1px solid #e5e5e5;
    border-radius: 8px;
}`
            },
            transparent: {
                buttonBg: 'rgba(0,123,255,0.8)',
                buttonHover: 'rgba(0,86,179,0.9)',
                userBg: 'rgba(0,123,255,0.9)',
                sendBg: 'rgba(0,123,255,0.8)',
                windowBg: 'rgba(255,255,255,0.1)',
                headerBg: 'rgba(255,255,255,0.05)',
                botBg: 'rgba(0,0,0,0.1)',
                textColor: '#333',
                windowBorder: 'rgba(0,123,255,0.3)',
                buttonBorder: 'rgba(255,255,255,0.3)',
                css: `/* Transparent Glass Theme */
.chat-button {
    background: rgba(0,123,255,0.8);
    border: 1px solid rgba(255,255,255,0.3);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
}

.chat-window {
    background: rgba(255,255,255,0.1);
    border: 1px solid rgba(0,123,255,0.3);
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
}

.chat-header {
    background: rgba(255,255,255,0.05);
    backdrop-filter: blur(10px);
    border-bottom: 1px solid rgba(0,123,255,0.2);
}

.message.user {
    background: rgba(0,123,255,0.9);
    color: white;
    border: 1px solid rgba(255,255,255,0.2);
}

.message.bot {
    background: rgba(0,0,0,0.1);
    color: #333;
    border: 1px solid rgba(0,0,0,0.1);
    backdrop-filter: blur(5px);
}

.input-field {
    background: rgba(255,255,255,0.1);
    border: 1px solid rgba(0,123,255,0.3);
    backdrop-filter: blur(5px);
}`
            }
        };
        
        const alignmentStyles = {
            standard: {
                css: `/* Standard Left/Right Alignment */
.message.user {
    align-self: flex-end;
    border-radius: 18px 4px 18px 18px;
    margin-left: 20%;
}

.message.bot {
    align-self: flex-start;
    border-radius: 4px 18px 18px 18px;
    margin-right: 20%;
}`,
                style: `
                .message.user { align-self: flex-end !important; border-radius: 18px 4px 18px 18px !important; margin-left: 20% !important; margin-right: 0 !important; }
                .message.bot { align-self: flex-start !important; border-radius: 4px 18px 18px 18px !important; margin-right: 20% !important; margin-left: 0 !important; }
                `
            },
            pointed: {
                css: `/* Pointed Speech Bubbles */
.message.user {
    align-self: flex-end;
    border-radius: 20px 8px 20px 20px;
    position: relative;
}

.message.bot {
    align-self: flex-start;
    border-radius: 8px 20px 20px 20px;
    position: relative;
}`,
                style: `
                .message.user { align-self: flex-end !important; border-radius: 20px 8px 20px 20px !important; margin-left: 15% !important; margin-right: 0 !important; }
                .message.bot { align-self: flex-start !important; border-radius: 8px 20px 20px 20px !important; margin-right: 15% !important; margin-left: 0 !important; }
                `
            },
            centered: {
                css: `/* All Messages Centered */
.message {
    align-self: center;
    border-radius: 18px;
    max-width: 60%;
    margin: 0 auto;
}

.message.user {
    background: #007bff;
}

.message.bot {
    background: #f1f1f1;
}`,
                style: `
                .message { align-self: center !important; border-radius: 18px !important; max-width: 60% !important; margin-left: auto !important; margin-right: auto !important; }
                `
            },
            square: {
                css: `/* Square Modern Bubbles */
.message.user {
    align-self: flex-end;
    border-radius: 4px;
    margin-left: 25%;
}

.message.bot {
    align-self: flex-start;
    border-radius: 4px;
    margin-right: 25%;
}`,
                style: `
                .message.user { align-self: flex-end !important; border-radius: 4px !important; margin-left: 25% !important; margin-right: 0 !important; }
                .message.bot { align-self: flex-start !important; border-radius: 4px !important; margin-right: 25% !important; margin-left: 0 !important; }
                `
            }
        };
        
        const borderStyles = {
            none: {
                css: `/* Clean No-Border Style */
.chat-window {
    border: none;
    box-shadow: 0 5px 40px rgba(0,0,0,0.1);
}

.chat-button {
    border: none;
    box-shadow: 0 2px 12px rgba(0,0,0,0.15);
}

.message {
    border: none;
}`,
                style: `
                .chat-window { border: none !important; }
                .chat-button { border: none !important; }
                .message { border: none !important; }
                `
            },
            subtle: {
                css: `/* Subtle Border Effects */
.chat-window {
    border: 1px solid rgba(0,0,0,0.1);
    box-shadow: 0 5px 25px rgba(0,0,0,0.08);
}

.chat-button {
    border: 1px solid rgba(255,255,255,0.3);
}

.message.bot {
    border: 1px solid rgba(0,0,0,0.05);
}`,
                style: `
                .chat-window { border: 1px solid rgba(0,0,0,0.1) !important; box-shadow: 0 5px 25px rgba(0,0,0,0.08) !important; }
                .chat-button { border: 1px solid rgba(255,255,255,0.3) !important; }
                .message.bot { border: 1px solid rgba(0,0,0,0.05) !important; }
                `
            },
            bold: {
                css: `/* Bold Border Statement */
.chat-window {
    border: 3px solid #007bff;
    box-shadow: 0 8px 32px rgba(0,123,255,0.2);
}

.chat-button {
    border: 3px solid #ffffff;
}

.message.user {
    border: 2px solid #0056b3;
}

.message.bot {
    border: 2px solid #dee2e6;
}`,
                style: `
                .chat-window { border: 3px solid #007bff !important; box-shadow: 0 8px 32px rgba(0,123,255,0.2) !important; }
                .chat-button { border: 3px solid #ffffff !important; }
                .message.user { border: 2px solid #0056b3 !important; }
                .message.bot { border: 2px solid #dee2e6 !important; }
                `
            },
            shadow: {
                css: `/* Enhanced Shadow Effects */
.chat-window {
    border: 1px solid rgba(0,0,0,0.1);
    box-shadow: 0 15px 50px rgba(0,0,0,0.2);
}

.chat-button {
    border: none;
    box-shadow: 0 8px 25px rgba(0,123,255,0.4);
}

.message {
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    border: none;
}`,
                style: `
                .chat-window { box-shadow: 0 15px 50px rgba(0,0,0,0.2) !important; border: 1px solid rgba(0,0,0,0.1) !important; }
                .chat-button { box-shadow: 0 8px 25px rgba(0,123,255,0.4) !important; border: none !important; }
                .message { box-shadow: 0 2px 8px rgba(0,0,0,0.1) !important; border: none !important; }
                `
            },
            neon: {
                css: `/* Neon Glow Effect */
.chat-window {
    border: 2px solid #00ff88;
    box-shadow: 0 0 20px rgba(0,255,136,0.5);
    background: #1a1a1a;
    color: #00ff88;
}

.chat-button {
    border: 2px solid #00ff88;
    background: #1a1a1a;
    color: #00ff88;
    box-shadow: 0 0 15px rgba(0,255,136,0.6);
}

.message.user {
    background: #00ff88;
    color: #1a1a1a;
    box-shadow: 0 0 10px rgba(0,255,136,0.3);
}

.message.bot {
    background: #2a2a2a;
    color: #00ff88;
    border: 1px solid #00ff88;
    box-shadow: 0 0 8px rgba(0,255,136,0.2);
}`,
                style: `
                .chat-window { border: 2px solid #00ff88 !important; box-shadow: 0 0 20px rgba(0,255,136,0.5) !important; background: #1a1a1a !important; color: #00ff88 !important; }
                .chat-button { border: 2px solid #00ff88 !important; background: #1a1a1a !important; color: #00ff88 !important; box-shadow: 0 0 15px rgba(0,255,136,0.6) !important; }
                .message.user { background: #00ff88 !important; color: #1a1a1a !important; box-shadow: 0 0 10px rgba(0,255,136,0.3) !important; }
                .message.bot { background: #2a2a2a !important; color: #00ff88 !important; border: 1px solid #00ff88 !important; box-shadow: 0 0 8px rgba(0,255,136,0.2) !important; }
                .chat-header { background: #2a2a2a !important; color: #00ff88 !important; border-bottom: 1px solid #00ff88 !important; }
                .input-field { background: #2a2a2a !important; color: #00ff88 !important; border: 1px solid #00ff88 !important; }
                `
            }
        };
        
        function updateCSSExample(elementId, cssText) {
            const element = document.getElementById(elementId);
            if (element) {
                element.textContent = cssText;
            }
        }
        
        function applyTheme(themeName) {
            const theme = themes[themeName];
            
            // Update CSS example
            updateCSSExample('colorCssExample', theme.css);
            
            // Apply visual changes
            let newStyles = `
                .chat-button { background: ${theme.buttonBg} !important; border: 2px solid ${theme.buttonBorder} !important; }
                .chat-button:hover { background: ${theme.buttonHover} !important; }
                .message.user { background: ${theme.userBg} !important; }
                .send-btn { background: ${theme.sendBg} !important; }
                .chat-window { background: ${theme.windowBg} !important; color: ${theme.textColor} !important; border-color: ${theme.windowBorder} !important; }
                .chat-header { background: ${theme.headerBg} !important; color: ${theme.textColor} !important; }
                .message.bot { background: ${theme.botBg} !important; color: ${theme.textColor} !important; }
            `;
            
            // Add special styles for transparent theme
            if (themeName === 'transparent') {
                newStyles += `
                .chat-window { backdrop-filter: blur(15px) !important; -webkit-backdrop-filter: blur(15px) !important; }
                .chat-button { backdrop-filter: blur(10px) !important; -webkit-backdrop-filter: blur(10px) !important; }
                .chat-header { backdrop-filter: blur(10px) !important; -webkit-backdrop-filter: blur(10px) !important; border-bottom: 1px solid rgba(0,123,255,0.2) !important; }
                .message.user { color: white !important; border: 1px solid rgba(255,255,255,0.2) !important; }
                .message.bot { backdrop-filter: blur(5px) !important; -webkit-backdrop-filter: blur(5px) !important; border: 1px solid rgba(0,0,0,0.1) !important; }
                .input-field { background: rgba(255,255,255,0.1) !important; border: 1px solid rgba(0,123,255,0.3) !important; backdrop-filter: blur(5px) !important; -webkit-backdrop-filter: blur(5px) !important; }
                `;
            }
            
            removeExistingStyles('themeStyles');
            addStyles('themeStyles', newStyles);
        }
        
        function changeAlignment(alignmentName) {
            const alignment = alignmentStyles[alignmentName];
            
            // Update CSS example
            updateCSSExample('alignmentCssExample', alignment.css);
            
            // Apply visual changes
            removeExistingStyles('alignmentStyles');
            addStyles('alignmentStyles', alignment.style);
        }
        
        function changeBorderStyle(borderName) {
            const border = borderStyles[borderName];
            
            // Update CSS example
            updateCSSExample('borderCssExample', border.css);
            
            // Apply visual changes
            removeExistingStyles('borderStyles');
            addStyles('borderStyles', border.style);
        }
        
        function changePosition(position) {
            const widget = document.querySelector('.chat-widget');
            
            // Reset all positions
            widget.style.top = 'auto';
            widget.style.bottom = 'auto';
            widget.style.left = 'auto';
            widget.style.right = 'auto';
            
            let css = '';
            switch(position) {
                case 'bottom-right':
                    widget.style.bottom = '20px';
                    widget.style.right = '20px';
                    css = '.chat-widget {\n    bottom: 20px;\n    right: 20px;\n}';
                    break;
                case 'bottom-left':
                    widget.style.bottom = '20px';
                    widget.style.left = '20px';
                    css = '.chat-widget {\n    bottom: 20px;\n    left: 20px;\n}';
                    break;
                case 'top-right':
                    widget.style.top = '20px';
                    widget.style.right = '20px';
                    css = '.chat-widget {\n    top: 20px;\n    right: 20px;\n}';
                    break;
                case 'top-left':
                    widget.style.top = '20px';
                    widget.style.left = '20px';
                    css = '.chat-widget {\n    top: 20px;\n    left: 20px;\n}';
                    break;
            }
            
            // Update CSS example (find position CSS example)
            const positionExample = document.querySelector('#positionCssExample') || 
                document.querySelector('.code:has-text("Position Examples")') ||
                document.querySelectorAll('.code')[3]; // Fallback to 4th code block
            
            if (positionExample) {
                positionExample.textContent = `/* Position Examples */\n${css}`;
            }
        }
        
        function updateText(type) {
            const title = document.getElementById('chatTitle');
            const input = document.getElementById('messageInput');
            
            const configs = {
                support: {
                    title: 'Customer Support',
                    placeholder: 'How can we help you?',
                    css: `const config = {
    headerTitle: "Customer Support",
    placeholder: "How can we help you?",
    welcomeMessage: "Welcome to support! How can we assist you today?",
    mockResponses: [
        "Thank you for contacting support.",
        "I'll help you resolve this issue.",
        "Let me check that for you.",
        "Is there anything else I can help with?"
    ]
};`
                },
                sales: {
                    title: 'Sales Chat',
                    placeholder: 'Interested in our products?',
                    css: `const config = {
    headerTitle: "Sales Chat",
    placeholder: "Interested in our products?",
    welcomeMessage: "Hi! Ready to learn about our amazing products?",
    mockResponses: [
        "Great choice! Let me tell you more.",
        "We have some exciting offers for you.",
        "Would you like to see a demo?",
        "I can connect you with our sales team."
    ]
};`
                },
                friendly: {
                    title: 'Friendly Chat',
                    placeholder: 'Say hello! ðŸ‘‹',
                    css: `const config = {
    headerTitle: "Friendly Chat",
    placeholder: "Say hello! ðŸ‘‹",
    welcomeMessage: "Hey there! Nice to meet you! ðŸ˜Š",
    mockResponses: [
        "That's awesome! Tell me more! ðŸŽ‰",
        "I love chatting with friendly people!",
        "You seem really nice! ðŸ˜„",
        "Thanks for the great conversation!"
    ]
};`
                }
            };
            
            const config = configs[type];
            title.textContent = config.title;
            input.placeholder = config.placeholder;
            
            // Update CSS example
            updateCSSExample('textCssExample', config.css);
        }
        
        function resizeWidget(size) {
            const window = document.querySelector('.chat-window');
            const button = document.querySelector('.chat-button');
            
            const sizes = {
                small: { 
                    width: '300px', 
                    height: '400px', 
                    buttonSize: '50px',
                    css: `/* Small Compact Size */
.chat-window {
    width: 300px;
    height: 400px;
}

.chat-button {
    width: 50px;
    height: 50px;
    font-size: 16px;
}`
                },
                medium: { 
                    width: '350px', 
                    height: '500px', 
                    buttonSize: '60px',
                    css: `/* Medium Standard Size */
.chat-window {
    width: 350px;
    height: 500px;
}

.chat-button {
    width: 60px;
    height: 60px;
    font-size: 20px;
}`
                },
                large: { 
                    width: '400px', 
                    height: '600px', 
                    buttonSize: '70px',
                    css: `/* Large Spacious Size */
.chat-window {
    width: 400px;
    height: 600px;
}

.chat-button {
    width: 70px;
    height: 70px;
    font-size: 24px;
}`
                }
            };
            
            const config = sizes[size];
            window.style.width = config.width;
            window.style.height = config.height;
            button.style.width = config.buttonSize;
            button.style.height = config.buttonSize;
            
            // Update CSS example
            updateCSSExample('sizeCssExample', config.css);
        }
        
        function removeExistingStyles(id) {
            const existing = document.getElementById(id);
            if (existing) existing.remove();
        }
        
        function addStyles(id, css) {
            const styleEl = document.createElement('style');
            styleEl.id = id;
            styleEl.textContent = css;
            document.head.appendChild(styleEl);
        }
        
        // Enhanced widget functionality with working chat
        class DemoWidget {
            constructor() {
                this.isOpen = false;
                this.messageCount = 0;
                this.mockResponses = [
                    "Thanks for trying out the customization demo! ðŸŽ¨",
                    "I love the theme you chose! The colors look great.",
                    "You can customize every aspect of my appearance.",
                    "Try clicking the different style buttons above!",
                    "The transparent mode is pretty cool, isn't it?",
                    "I'm fully responsive and work great on mobile too.",
                    "Each theme shows you the exact CSS code to use.",
                    "Ready to add me to your website? ðŸš€"
                ];
                
                this.init();
            }
            
            init() {
                this.toggleBtn = document.getElementById('chatToggle');
                this.window = document.getElementById('chatWindow');
                this.closeBtn = document.getElementById('closeChat');
                this.messages = document.getElementById('chatMessages');
                this.input = document.getElementById('messageInput');
                this.sendBtn = document.getElementById('sendBtn');
                
                this.bindEvents();
            }
            
            bindEvents() {
                this.toggleBtn.addEventListener('click', () => this.open());
                this.closeBtn.addEventListener('click', () => this.close());
                this.sendBtn.addEventListener('click', () => this.sendMessage());
                this.input.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter' && !e.shiftKey) {
                        e.preventDefault();
                        this.sendMessage();
                    }
                });
            }
            
            open() {
                this.isOpen = true;
                this.window.classList.add('open');
                this.toggleBtn.style.display = 'none';
                this.input.focus();
            }
            
            close() {
                this.isOpen = false;
                this.window.classList.remove('open');
                this.toggleBtn.style.display = 'flex';
            }
            
            addMessage(text, type) {
                const messageEl = document.createElement('div');
                messageEl.className = `message ${type}`;
                messageEl.textContent = text;
                
                this.messages.appendChild(messageEl);
                this.messages.scrollTop = this.messages.scrollHeight;
                
                // Animate message appearance
                messageEl.style.opacity = '0';
                messageEl.style.transform = 'translateY(10px)';
                
                setTimeout(() => {
                    messageEl.style.transition = 'all 0.3s ease';
                    messageEl.style.opacity = '1';
                    messageEl.style.transform = 'translateY(0)';
                }, 50);
            }
            
            showTypingIndicator() {
                const typing = document.createElement('div');
                typing.className = 'typing-indicator';
                typing.id = 'typingIndicator';
                typing.innerHTML = `
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                `;
                
                this.messages.appendChild(typing);
                this.messages.scrollTop = this.messages.scrollHeight;
                return typing;
            }
            
            hideTypingIndicator() {
                const typing = document.getElementById('typingIndicator');
                if (typing) typing.remove();
            }
            
            async sendMessage() {
                const message = this.input.value.trim();
                if (!message) return;
                
                // Add user message
                this.addMessage(message, 'user');
                this.input.value = '';
                
                // Show typing indicator
                const typing = this.showTypingIndicator();
                
                // Simulate API delay
                await new Promise(resolve => setTimeout(resolve, 800 + Math.random() * 1500));
                
                // Remove typing and add bot response
                this.hideTypingIndicator();
                const response = this.mockResponses[this.messageCount % this.mockResponses.length];
                this.addMessage(response, 'bot');
                this.messageCount++;
            }
        }
        
        // Add typing indicator styles
        const typingStyles = `
            .typing-indicator {
                display: flex;
                align-items: center;
                gap: 4px;
                padding: 8px 12px;
                background: #f1f1f1;
                border-radius: 18px;
                max-width: 80px;
                align-self: flex-start;
                margin-bottom: 12px;
            }
            
            .typing-dot {
                width: 8px;
                height: 8px;
                border-radius: 50%;
                background: #999;
                animation: typingPulse 1.4s ease-in-out infinite;
            }
            
            .typing-dot:nth-child(2) { animation-delay: 0.2s; }
            .typing-dot:nth-child(3) { animation-delay: 0.4s; }
            
            @keyframes typingPulse {
                0%, 60%, 100% { transform: scale(1); opacity: 0.5; }
                30% { transform: scale(1.2); opacity: 1; }
            }
        `;
        
        // Initialize demo widget
        document.addEventListener('DOMContentLoaded', () => {
            // Add typing styles
            const styleEl = document.createElement('style');
            styleEl.textContent = typingStyles;
            document.head.appendChild(styleEl);
            
            // Initialize the demo widget
            new DemoWidget();
        });
    </script>
</body>
</html>